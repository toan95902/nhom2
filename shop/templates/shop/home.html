{% extends "shop/base.html" %}
{% load humanize %}

{% block title %}Trang Ch·ªß - Shop ƒê·ªì Gia D·ª•ng{% endblock %}

{% block content %}
<div class="container my-5">
  <!-- Banner Khuy·∫øn m√£i thu nh·ªè h∆°n -->
  <section class="promo-banner position-relative mb-4 animate__animated animate__fadeInDown">
    <img src="/static/images/hero.jpg" alt="Banner khuy·∫øn m√£i" class="img-fluid w-100" style="max-height: 200px; object-fit: cover;">
    <div class="promo-overlay position-absolute top-50 start-50 translate-middle text-center text-white p-1" style="background: rgba(0, 0, 0, 0.4); border-radius: 5px;">
      <h3 class="fw-bold animate__animated animate__zoomIn" style="font-size: 1.4rem;">∆Øu ƒë√£i ƒë·∫∑c s·∫Øc!</h3>
      <p class="animate__animated animate__fadeInUp" style="font-size: 0.9rem;">Gi·∫£m gi√° h·∫•p d·∫´n ch·ªâ c√≥ t·∫°i Shop Vip</p>
      <a href="{% url 'shop:product_list' %}" class="btn btn-primary btn-sm animate__animated animate__pulse animate__infinite">Xem s·∫£n ph·∫©m</a>
    </div>
  </section>

  <!-- S·∫£n ph·∫©m b√°n ch·∫°y -->
  <section class="mb-5">
    <h2 class="mb-4 text-center animate__animated animate__fadeInUp">üî• S·∫£n ph·∫©m b√°n ch·∫°y</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% for product in best_sellers %}
      <div class="col animate__animated animate__zoomIn">
        <div class="card h-100 shadow-sm product-card">
          {% if product.image %}
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 200px; object-fit: cover;">
          {% else %}
          <img src="/media/products/default.jpg" class="card-img-top" alt="S·∫£n ph·∫©m m·∫∑c ƒë·ªãnh" style="height: 200px; object-fit: cover;">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text text-danger fw-bold mb-2">üí∞ {{ product.price|intcomma }} VND</p>
            <div class="mt-auto">
              <a href="{% url 'shop:product_detail' product.id %}" class="btn btn-sm btn-outline-primary">Xem chi ti·∫øt</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- S·∫£n ph·∫©m m·ªõi -->
  <section class="mb-5">
    <h2 class="mb-4 text-center animate__animated animate__fadeInUp">üÜï S·∫£n ph·∫©m m·ªõi</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% for product in new_products %}
      <div class="col animate__animated animate__zoomIn">
        <div class="card h-100 shadow-sm product-card">
          {% if product.image %}
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 200px; object-fit: cover;">
          {% else %}
          <img src="/media/products/default.jpg" class="card-img-top" alt="S·∫£n ph·∫©m m·∫∑c ƒë·ªãnh" style="height: 200px; object-fit: cover;">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text text-danger fw-bold mb-2">üí∞ {{ product.price|intcomma }} VND</p>
            <div class="mt-auto">
              <a href="{% url 'shop:product_detail' product.id %}" class="btn btn-sm btn-outline-primary">Xem chi ti·∫øt</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- S·∫£n ph·∫©m gi·∫£m gi√° -->
  <section class="mb-5">
    <h2 class="mb-4 text-center animate__animated animate__fadeInUp">üí• S·∫£n ph·∫©m gi·∫£m gi√°</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% for product in sale_products %}
      <div class="col animate__animated animate__zoomIn">
        <div class="card h-100 shadow-sm product-card">
          {% if product.image %}
          <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 200px; object-fit: cover;">
          {% else %}
          <img src="/media/products/default.jpg" class="card-img-top" alt="S·∫£n ph·∫©m m·∫∑c ƒë·ªãnh" style="height: 200px; object-fit: cover;">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text text-danger fw-bold mb-2">üí∞ {{ product.price|intcomma }} VND</p>
            <p class="card-text text-success fw-bold">Gi·∫£m {{ product.discount|intcomma }}%</p>
            <div class="mt-auto">
              <a href="{% url 'shop:product_detail' product.id %}" class="btn btn-sm btn-outline-primary">Xem chi ti·∫øt</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>
</div>

<!-- CSS t√πy ch·ªânh hi·ªáu ·ª©ng hover cho s·∫£n ph·∫©m -->
<style>
  .product-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .product-card:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
</style>
{% endblock %}
